<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content="热爱每一段代码"><meta name="author" content="买盐"><meta name="keywords" content=""><title>第七章、JDBC - 买盐の笔迹</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"example.com",root:"/",version:"1.8.11",typing:{enable:!0,typeSpeed:75,cursorChar:"(͒˃⌂˂͒)",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/rss2.xml" title="买盐の笔迹" type="application/rss+xml"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>买盐の笔迹</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="第七章、JDBC"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-07-29 23:18" pubdate>2021年7月29日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 1.8k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 23 分钟</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">第七章、JDBC</h1><div class="markdown-body"><h2 id="一、JDBC"><a href="#一、JDBC" class="headerlink" title="一、JDBC"></a><strong>一、JDBC</strong></h2><p>JDBC(java数据库连接)是一套用于执行SQL语句的javaAPI。通过API来<strong>连接关系型数据库</strong>，并使用SQL语句来完成对数据库数据的查询、新增、删除和更新等操作。</p><blockquote><p>JDBC是介于应用程序和数据库之间的连接，应用程序通过JDBC去找对应的数据库驱动，再通过驱动与相应的数据库进行连接。</p></blockquote><p><img src="https://pic1.zhimg.com/v2-34e7941093c9bd12a45fc391c76716a4_b.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://pic1.zhimg.com/v2-fc970ceeada6c49596dbcf649bf3f970_b.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><h2 id="二、JDBC常用API"><a href="#二、JDBC常用API" class="headerlink" title="二、JDBC常用API"></a><strong>二、JDBC常用API</strong></h2><p><strong>2.1.Driver接口</strong></p><blockquote><p>该接口是所有JDBC程序<strong>必须要实现</strong>的接口，该接口是专门提供给数据库厂商使用的。</p></blockquote><p><strong>2.2.DriverManager类</strong></p><blockquote><p>用于加载JDBC驱动并创建与数据库的连接。</p></blockquote><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>registerDriver（Driver d）</td><td>向DriverManager注册指定的JBDC驱动d</td></tr><tr><td>getConnerection(String url ,String user, String pwd )</td><td>用于建立和数据库连接，并返回连接对象</td></tr></tbody></table><p><strong>2.3.Connection接口</strong></p><blockquote><p>该接口为数据库<strong>连接对象</strong>，只有获取连接对象才能访问数据库。</p></blockquote><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>createStatement()</td><td>创建一个向数据库发送语句的Statement对象</td></tr><tr><td>prepareStatement(String sql)</td><td>返回一个向数据库发送带参数的SQL语句prepareStatement对象</td></tr><tr><td>prepareCall(String sql)</td><td>返回一个能调用数据库存储过程的CallableStatement对象</td></tr></tbody></table><p><strong>2.4.Statement接口</strong></p><blockquote><p>该接口用来<strong>执行静态SQL语句</strong>，并返回一个结果对象。</p></blockquote><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>execute(String sql)</td><td>用于执行任何sql语句，通过Statement的getResultSet()获取查询结果</td></tr><tr><td>executeUpdate(String sql)</td><td>用于执行添加、更新、删除的SQL语句，返回执行的语句数量</td></tr><tr><td>executeQuery(String sql)</td><td>用于执行查询SQL语句，返回查询的ResultSet对象</td></tr></tbody></table><p><strong>2.5.PreparedStatement接口</strong></p><blockquote><p>PreparedStatement是Statement的子接口，用于<strong>执行预编译</strong>的SQL语句。该接口可以带参数SQL语句的执行操作，使用占位符？来代替参数，通过set()方法对SQL语句参数赋值。</p></blockquote><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>executeUpdate()</td><td>执行SQL语句（结构化查询语句）</td></tr><tr><td>executeQuery()</td><td>执行SQL查询，返回ResultSet对象</td></tr><tr><td>setInt(int index, int x)</td><td>给指定参数index设置x值</td></tr><tr><td>setFloat(int index,float x)</td><td>给指定参数index设置x值</td></tr><tr><td>setString(int index ,String x)</td><td>给指定参数index设置x值</td></tr><tr><td>setDate(int index , Date x)</td><td>给指定参数index设置x值</td></tr><tr><td>addBatch()</td><td>添加一组参数到PreparedStatement对象</td></tr><tr><td>setCharacterStream(int index ,Reader r , int length)</td><td>将指定输入流数据写到数据库字段中</td></tr><tr><td>setBinaryStream(int index,InputStream x ,int length)</td><td>将二进制的输入流数据写到二进制字段中</td></tr></tbody></table><p><strong>2.6.ResultSet接口</strong></p><p><img src="https://pic4.zhimg.com/v2-3ce991e361cf6c62d045b19fdcd6014f_b.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><blockquote><p>该接口用于保存JDBC执行查询时<strong>返回的结果集</strong>，该结果集封装在一个逻辑表格中。<br>ResultSet内部有指向表格数据行的<strong>游标</strong>，初始化时，游标在表格第一行以前，调用next方法将游标移动下一行。没有数据则返回false。</p></blockquote><h2 id="三、JDBC步骤"><a href="#三、JDBC步骤" class="headerlink" title="三、JDBC步骤"></a><strong>三、JDBC步骤</strong></h2><p><strong>3.1.JDBC步骤</strong></p><p><strong>1..加载(注册)数据库驱动</strong></p><blockquote><p><strong>方式一：</strong>通常采用Class类的静态方法 forName()来实现。<br><strong>方式二：</strong>registerDriver(Driver driver) <strong>不推荐</strong>。理由一：编译器依赖具体的数据库驱动；理由二：导致数据库驱动被注册多次。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//方式一：</span><br><span class="line">DriverManager.registerDriver(new com.mysql.jdbc.Driver())</span><br><span class="line"></span><br><span class="line">//方式二：&quot; &quot;所对应数据库驱动  </span><br><span class="line">Class.forName(&quot;com.mysql.jdbc.Driver&quot;) ;</span><br></pre></td></tr></table></figure><p><strong>2.获取数据库连接</strong></p><blockquote><p><strong>方式一：</strong>通过DriverManager中的getConnection()方法获取连接。**推荐 **getConnection(String url,String user,String password)<br>**url **:JDBC和数据库厂商指定的协议<br><strong>user</strong>：连接数据库的用户名<br><strong>password</strong>：连接数据库的密码<br><strong>方式二：</strong>getConnection(String url,Properties info) ，info是我们自己封装的文件。<br><strong>方式三：</strong>getConnection(String url) 数据库用？进行隔开，用户和密码使用&amp;进行连接。</p></blockquote><p><img src="https://pic1.zhimg.com/v2-0910326c13318337e52f02f95b1c9980_b.png" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>3.通过连接对象获取执行SQL语句的对象（</strong>Statement<strong>）</strong></p><blockquote><p><strong>方式一：</strong>createStatement()<br><strong>方式二：</strong>prepareStatement(String sql)<br><strong>方式三：</strong>prepareCall(String sql)</p></blockquote><p><img src="https://pic4.zhimg.com/v2-e4dc484166206ff8a7d0eb7b5130e66b_b.png" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>4.使用Statement去执行SQ语句</strong></p><blockquote><p><strong>方式一：</strong>execute(String sql)<br><strong>方式二：</strong>executeUpdate(String sql)<br><strong>方式三：</strong>executeQuery(String sql)</p></blockquote><p><img src="https://pic1.zhimg.com/v2-9b280e18f92ae8fdab283d1ede06b8f4_b.png" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>5.操作ResultSet结果集</strong></p><blockquote><p>就是SQL语句查询到的内容。返回一个ResultSet对象，该对象保存查询结果。<br>实际开发：<strong>把结果集封装到POJO对象中</strong>（映射结果集）。<br>所谓映射结果集，就是把数据库表中的数据和POJO实体类中的属性进行一一对应。</p></blockquote><p><strong>6.关闭执行SQL语句连接、关闭数据库连接。</strong></p><p><img src="https://pic3.zhimg.com/v2-994e15859f56aee1d2042d46d8a2e4a2_b.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><blockquote><p><strong>注意：</strong>关闭的顺序。</p></blockquote><p><img src="https://pic3.zhimg.com/v2-db025dccc6b740aa9fad0c3610ccf6ba_b.gif" srcset="/img/loading.gif" lazyload alt="img"></p><h2 id="三、实现第一个JDBC"><a href="#三、实现第一个JDBC" class="headerlink" title="三、实现第一个JDBC"></a><strong>三、实现第一个JDBC</strong></h2><p><strong>需求：向数据库中插入一条记录</strong></p><p><strong>step1、</strong>准备一张表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE sqltest; USE sqlTest; CREATE TABLE t_user( uid int primary key auto_increment, name varchar(100), address varchar(200) );</span><br></pre></td></tr></table></figure><p><img src="https://pic3.zhimg.com/v2-84b68dfbc6fe342ab3b6d426d385106e_b.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p><strong>step2、</strong>导入数据库驱动</p><p>1）建立一个lib的目录</p><p>2）拷贝jar包到lib目录中</p><p>3）右键，add as libary，将jar包加入到classpath中</p><p><img src="https://pic1.zhimg.com/v2-f95994194352a80a3c4cd86986be2310_b.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><blockquote><p><strong>驱动包自己取：</strong><br>链接：<a href="https://link.zhihu.com/?target=https://pan.baidu.com/s/1s5u026OQoYg6Ip2AwK9jCw">https://pan.baidu.com/s/1s5u026OQoYg6Ip2AwK9jCw</a> 提取码：k282</p></blockquote><p><strong>step3、</strong>编写一个类</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> @Test</span><br><span class="line">public void test01() throws Exception &#123;</span><br><span class="line">    //1.注册驱动</span><br><span class="line">    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">    //2.建立与数据库的连接</span><br><span class="line">    Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/sqltest&quot;,</span><br><span class="line">            &quot;root&quot;,</span><br><span class="line">            &quot;root&quot;);</span><br><span class="line">    //3.准备sql语句</span><br><span class="line">    Statement statement = conn.createStatement();</span><br><span class="line">    //4.执行sql语句</span><br><span class="line">    int i = statement.executeUpdate(&quot;INSERT into t_user VALUES (null,&#x27;admin&#x27;,&#x27;beijing&#x27;)&quot;);</span><br><span class="line">    System.out.println(&quot;影响行数：&quot; + i);</span><br><span class="line">    //5.释放资源</span><br><span class="line">    statement.close();</span><br><span class="line">    conn.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://pic4.zhimg.com/v2-1b7e5b0d547c11963bc19c877f16e5ff_b.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://pic1.zhimg.com/v2-6492f44d6521cda46ad1bbd883d66d90_b.jpg" srcset="/img/loading.gif" lazyload alt="img"></p><p><img src="https://pic1.zhimg.com/v2-f34874bee716badc0a77737f1f5466e8_b.gif" srcset="/img/loading.gif" lazyload alt="img"></p><h2 id="四、-JDBC获取连接与关闭连接工具类实现"><a href="#四、-JDBC获取连接与关闭连接工具类实现" class="headerlink" title="四、 JDBC获取连接与关闭连接工具类实现"></a><strong>四、 JDBC获取连接与关闭连接工具类实现</strong></h2><p><strong>4.1编写JDBC工具类步骤</strong></p><ol><li>将固定字符串定义为常量 。</li><li>在静态代码块中注册驱动(只注册一次) 。</li><li>提供一个获取连接的方法 static Connection getConneciton()。</li><li>定义关闭资源的方法 close(Connection conn, Statement stmt, ResultSet rs) 。</li><li>重载关闭方法 close(Connection conn, Statement stmt) 。</li></ol><p><strong>工具类：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">//编写工具类</span><br><span class="line">public class JdbcUtil &#123;</span><br><span class="line">    private  static String url;</span><br><span class="line">    private  static String username;</span><br><span class="line">    private  static String password;</span><br><span class="line">    //1.注册驱动 一次就可以了</span><br><span class="line">    static &#123;   //使用静态方法</span><br><span class="line">        try &#123;   //有异常</span><br><span class="line">            InputStream IN = JdbcUtil.class.getClassLoader().getResourceAsStream(&quot;Jdbc.properties&quot;);//来使用这个有关数据库文件</span><br><span class="line">            Properties properties = new Properties();</span><br><span class="line">            properties.load(IN);//读取文件内容到properties对象中</span><br><span class="line">            url= properties.getProperty(&quot;url&quot;);</span><br><span class="line">            username= properties.getProperty(&quot;username&quot;);</span><br><span class="line">            password= properties.getProperty(&quot;password&quot;);</span><br><span class="line">            Class.forName(&quot;DriverClassName&quot;);</span><br><span class="line">        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //2.获取数据库的连接：每次都要做</span><br><span class="line">    public static Connection getConnection()&#123;//使用静态方法可以每次有新的连接</span><br><span class="line">        try &#123;</span><br><span class="line">            return DriverManager.getConnection(&quot;jdbc:mysql:///sqltest&quot;,&quot;root&quot;,&quot;root&quot;);</span><br><span class="line">        &#125; catch (SQLException e) &#123;</span><br><span class="line">            throw new RuntimeException(&quot;获取数据库连接失败&quot;,e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //3.释放资源:每次使用都要做 使用静态方法可以每次连接</span><br><span class="line">    public static void release(ResultSet resultSet, Statement statement,Connection connection)&#123;</span><br><span class="line">        if (resultSet!=null)&#123;</span><br><span class="line">            try &#123;   //关闭会出现异常</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (statement!=null)&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (connection!=null)&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>配置文件</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DriverClassName=com.mysql.jdbc.Driver</span><br><span class="line">url=jdbc:mysql:///sqltest</span><br><span class="line">username=root</span><br><span class="line">password=root</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>使用工具类</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Connection connection = null;//默认与数据库连接初始值为null</span><br><span class="line">Statement statement = null;//默认准备sql语句初始值为null</span><br><span class="line">ResultSet resultSet = null;//默认查询结果集初始值为null</span><br><span class="line">try &#123;</span><br><span class="line">    connection = JdbcUtil.getConnection();//使用工具类老与数据库连接</span><br><span class="line">    statement = connection.createStatement();//连接后准备sql语句</span><br><span class="line">    resultSet = statement.executeQuery(&quot;&#x27;select * from t_user where name=&#x27;&quot;+user.getName()+&quot;&#x27;and password=&#x27;&quot;+user.getPassword());//执行sql语句</span><br><span class="line">  &#125; catch (SQLException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    return null;</span><br><span class="line">&#125;finally &#123;</span><br><span class="line">    JdbcUtil.release(resultSet,statement,connection);//使用工具来释放资源</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p><img src="https://pic2.zhimg.com/v2-20deceaa1582b9d5ddec75ead3731645_b.gif" srcset="/img/loading.gif" lazyload alt="img"></p></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/Java%E5%9F%BA%E7%A1%80/">Java基础</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/JDBC/">JDBC</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/post/000c0e33-f0e1-11eb-aee4-2f9809b08461/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">第八章、多线程</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/post/000c0e34-f0e1-11eb-aee4-2f9809b08461/"><span class="hidden-mobile">第六章、I/O流</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><div class="disqus" style="width:100%"><div id="disqus_thread"></div><script type="text/javascript">var disqus_config=function(){this.page.url="http://example.com/post/000c0e30-f0e1-11eb-aee4-2f9809b08461/",this.page.identifier="/post/000c0e30-f0e1-11eb-aee4-2f9809b08461/"};Fluid.utils.loadComments("#disqus_thread",(function(){var e=document,t=e.createElement("script");t.src="//fluid.disqus.com/embed.js",t.setAttribute("data-timestamp",new Date),(e.head||e.body).appendChild(t)}))</script><noscript>Please enable JavaScript to view the comments</noscript></div></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/boot.js"></script><script type="text/javascript" color="220,220,220" opacity="0.7" zindex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><script type="text/javascript" src="/js/love.js"></script><script type="text/javascript" src="\js\snow.js"></script><link rel="stylesheet" href="/dist/APlayer.min.css"><div id="aplayer"></div><script type="text/javascript" src="/dist/APlayer.min.js"></script><script type="text/javascript" src="/dist/music.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/wanko.model.json"},display:{position:"right",width:150,height:300,mobile:{show:!0}},log:!1})</script></body></html>